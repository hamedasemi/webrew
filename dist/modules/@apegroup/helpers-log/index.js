'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.DEBUG = exports.ENV = undefined;
exports.debug = debug;
exports.info = info;
exports.warn = warn;
exports.error = error;

var _chalk = require('chalk');

var ENV = exports.ENV = typeof process.env.ENV !== 'undefined' ? false : process.env.ENV;
var DEBUG = exports.DEBUG = typeof process.env.DEBUG !== 'undefined';

function debug() {
    var date = new Date().toTimeString('HH:mm:ss').replace(/\ .+/, '');
    var args = Array.prototype.slice.call(arguments);
    args = args.map(function (arg) {
        if (typeof arg === 'string' && arg.search(/:/g) > 0) return '' + (0, _chalk.dim)(arg);else return arg;
    });
    args.unshift('[' + (0, _chalk.dim)(date) + '] [' + (0, _chalk.magenta)('DEBUG') + ']');
    DEBUG && console.log.apply(console, args);
}

function info() {
    var date = new Date().toTimeString('HH:mm:ss').replace(/\ .+/, '');
    var args = Array.prototype.slice.call(arguments);
    args = args.map(function (arg) {
        if (typeof arg === 'string' && arg.search(/:/g) > 0) return '' + (0, _chalk.dim)(arg);else return arg;
    });
    args.unshift('[' + (0, _chalk.dim)(date) + '] [' + (0, _chalk.cyan)('INFO') + ']');
    console.log.apply(console, args);
}

function warn() {
    var date = new Date().toTimeString('HH:mm:ss').replace(/\ .+/, '');
    var args = Array.prototype.slice.call(arguments);
    args = args.map(function (arg) {
        if (typeof arg === 'string' && arg.search(/:/g) > 0) return '' + (0, _chalk.dim)(arg);else return arg;
    });
    args.unshift('[' + (0, _chalk.dim)(date) + '] [' + (0, _chalk.yellow)('WARN') + ']');
    console.log.apply(console, args);
}

function error() {
    var date = new Date().toTimeString('HH:mm:ss').replace(/\ .+/, '');
    var args = Array.prototype.slice.call(arguments);
    args = args.map(function (arg) {
        if (typeof arg === 'string' && arg.search(/:/g) > 0) return '' + (0, _chalk.dim)(arg);else return arg;
    });
    args.unshift('[' + (0, _chalk.dim)(date) + '] [' + (0, _chalk.red)('ERROR') + ']');
    console.log.apply(console, args);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL21vZHVsZXMvQGFwZWdyb3VwL2hlbHBlcnMtbG9nL2luZGV4LmpzIl0sIm5hbWVzIjpbImRlYnVnIiwiaW5mbyIsIndhcm4iLCJlcnJvciIsIkVOViIsInByb2Nlc3MiLCJlbnYiLCJERUJVRyIsImRhdGUiLCJEYXRlIiwidG9UaW1lU3RyaW5nIiwicmVwbGFjZSIsImFyZ3MiLCJBcnJheSIsInByb3RvdHlwZSIsInNsaWNlIiwiY2FsbCIsImFyZ3VtZW50cyIsIm1hcCIsImFyZyIsInNlYXJjaCIsInVuc2hpZnQiLCJjb25zb2xlIiwibG9nIiwiYXBwbHkiXSwibWFwcGluZ3MiOiI7Ozs7OztRQU1nQkEsSyxHQUFBQSxLO1FBV0FDLEksR0FBQUEsSTtRQVdBQyxJLEdBQUFBLEk7UUFXQUMsSyxHQUFBQSxLOztBQXZDaEI7O0FBR08sSUFBTUMsb0JBQU0sT0FBT0MsUUFBUUMsR0FBUixDQUFZRixHQUFuQixtQkFBeUMsS0FBekMsR0FBaURDLFFBQVFDLEdBQVIsQ0FBWUYsR0FBekU7QUFDQSxJQUFNRyx3QkFBUSxPQUFPRixRQUFRQyxHQUFSLENBQVlDLEtBQW5CLGdCQUFkOztBQUVBLFNBQVNQLEtBQVQsR0FBaUI7QUFDcEIsUUFBSVEsT0FBTyxJQUFJQyxJQUFKLEdBQVdDLFlBQVgsYUFBb0NDLE9BQXBDLENBQTRDLE1BQTVDLEtBQVg7QUFDQSxRQUFJQyxPQUFPQyxNQUFNQyxTQUFOLENBQWdCQyxLQUFoQixDQUFzQkMsSUFBdEIsQ0FBMkJDLFNBQTNCLENBQVg7QUFDQUwsV0FBT0EsS0FBS00sR0FBTCxDQUFTLFVBQUNDLEdBQUQsRUFBUztBQUNyQixZQUFJLE9BQU9BLEdBQVAsS0FBZSxRQUFmLElBQTJCQSxJQUFJQyxNQUFKLENBQVcsSUFBWCxJQUFtQixDQUFsRCxFQUFxRCxZQUFVLGdCQUFJRCxHQUFKLENBQVYsQ0FBckQsS0FDSyxPQUFPQSxHQUFQO0FBQ1IsS0FITSxDQUFQO0FBSUFQLFNBQUtTLE9BQUwsT0FBaUIsZ0JBQUliLElBQUosQ0FBakIsV0FBZ0MsNEJBQWhDO0FBQ0FELGFBQVNlLFFBQVFDLEdBQVIsQ0FBWUMsS0FBWixDQUFrQkYsT0FBbEIsRUFBMkJWLElBQTNCLENBQVQ7QUFDSDs7QUFFTSxTQUFTWCxJQUFULEdBQWdCO0FBQ25CLFFBQUlPLE9BQU8sSUFBSUMsSUFBSixHQUFXQyxZQUFYLGFBQW9DQyxPQUFwQyxDQUE0QyxNQUE1QyxLQUFYO0FBQ0EsUUFBSUMsT0FBT0MsTUFBTUMsU0FBTixDQUFnQkMsS0FBaEIsQ0FBc0JDLElBQXRCLENBQTJCQyxTQUEzQixDQUFYO0FBQ0FMLFdBQU9BLEtBQUtNLEdBQUwsQ0FBUyxVQUFDQyxHQUFELEVBQVM7QUFDckIsWUFBSSxPQUFPQSxHQUFQLEtBQWUsUUFBZixJQUEyQkEsSUFBSUMsTUFBSixDQUFXLElBQVgsSUFBbUIsQ0FBbEQsRUFBcUQsWUFBVSxnQkFBSUQsR0FBSixDQUFWLENBQXJELEtBQ0ssT0FBT0EsR0FBUDtBQUNSLEtBSE0sQ0FBUDtBQUlBUCxTQUFLUyxPQUFMLE9BQWlCLGdCQUFJYixJQUFKLENBQWpCLFdBQWdDLHdCQUFoQztBQUNBYyxZQUFRQyxHQUFSLENBQVlDLEtBQVosQ0FBa0JGLE9BQWxCLEVBQTJCVixJQUEzQjtBQUNIOztBQUVNLFNBQVNWLElBQVQsR0FBZ0I7QUFDbkIsUUFBSU0sT0FBTyxJQUFJQyxJQUFKLEdBQVdDLFlBQVgsYUFBb0NDLE9BQXBDLENBQTRDLE1BQTVDLEtBQVg7QUFDQSxRQUFJQyxPQUFPQyxNQUFNQyxTQUFOLENBQWdCQyxLQUFoQixDQUFzQkMsSUFBdEIsQ0FBMkJDLFNBQTNCLENBQVg7QUFDQUwsV0FBT0EsS0FBS00sR0FBTCxDQUFTLFVBQUNDLEdBQUQsRUFBUztBQUNyQixZQUFJLE9BQU9BLEdBQVAsS0FBZSxRQUFmLElBQTJCQSxJQUFJQyxNQUFKLENBQVcsSUFBWCxJQUFtQixDQUFsRCxFQUFxRCxZQUFVLGdCQUFJRCxHQUFKLENBQVYsQ0FBckQsS0FDSyxPQUFPQSxHQUFQO0FBQ1IsS0FITSxDQUFQO0FBSUFQLFNBQUtTLE9BQUwsT0FBaUIsZ0JBQUliLElBQUosQ0FBakIsV0FBZ0MsMEJBQWhDO0FBQ0FjLFlBQVFDLEdBQVIsQ0FBWUMsS0FBWixDQUFrQkYsT0FBbEIsRUFBMkJWLElBQTNCO0FBQ0g7O0FBRU0sU0FBU1QsS0FBVCxHQUFpQjtBQUNwQixRQUFJSyxPQUFPLElBQUlDLElBQUosR0FBV0MsWUFBWCxhQUFvQ0MsT0FBcEMsQ0FBNEMsTUFBNUMsS0FBWDtBQUNBLFFBQUlDLE9BQU9DLE1BQU1DLFNBQU4sQ0FBZ0JDLEtBQWhCLENBQXNCQyxJQUF0QixDQUEyQkMsU0FBM0IsQ0FBWDtBQUNBTCxXQUFPQSxLQUFLTSxHQUFMLENBQVMsVUFBQ0MsR0FBRCxFQUFTO0FBQ3JCLFlBQUksT0FBT0EsR0FBUCxLQUFlLFFBQWYsSUFBMkJBLElBQUlDLE1BQUosQ0FBVyxJQUFYLElBQW1CLENBQWxELEVBQXFELFlBQVUsZ0JBQUlELEdBQUosQ0FBVixDQUFyRCxLQUNLLE9BQU9BLEdBQVA7QUFDUixLQUhNLENBQVA7QUFJQVAsU0FBS1MsT0FBTCxPQUFpQixnQkFBSWIsSUFBSixDQUFqQixXQUFnQyx3QkFBaEM7QUFDQWMsWUFBUUMsR0FBUixDQUFZQyxLQUFaLENBQWtCRixPQUFsQixFQUEyQlYsSUFBM0I7QUFDSCIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJsYWNrLCByZWQsIGdyZWVuLCB5ZWxsb3csIGJsdWUsIG1hZ2VudGEsIGN5YW4sIHdoaXRlLCBncmF5LCBkaW0gfSBmcm9tICdjaGFsaydcblxuXG5leHBvcnQgY29uc3QgRU5WID0gdHlwZW9mIHByb2Nlc3MuZW52LkVOViAhPT0gYHVuZGVmaW5lZGAgPyBmYWxzZSA6IHByb2Nlc3MuZW52LkVOVlxuZXhwb3J0IGNvbnN0IERFQlVHID0gdHlwZW9mIHByb2Nlc3MuZW52LkRFQlVHICE9PSBgdW5kZWZpbmVkYFxuXG5leHBvcnQgZnVuY3Rpb24gZGVidWcoKSB7XG4gICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpLnRvVGltZVN0cmluZyhgSEg6bW06c3NgKS5yZXBsYWNlKC9cXCAuKy8sIGBgKVxuICAgIGxldCBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxuICAgIGFyZ3MgPSBhcmdzLm1hcCgoYXJnKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJnID09PSAnc3RyaW5nJyAmJiBhcmcuc2VhcmNoKC86L2cpID4gMCkgcmV0dXJuIGAke2RpbShhcmcpfWBcbiAgICAgICAgZWxzZSByZXR1cm4gYXJnXG4gICAgfSlcbiAgICBhcmdzLnVuc2hpZnQoYFske2RpbShkYXRlKX1dIFske21hZ2VudGEoYERFQlVHYCl9XWApXG4gICAgREVCVUcgJiYgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJncylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluZm8oKSB7XG4gICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpLnRvVGltZVN0cmluZyhgSEg6bW06c3NgKS5yZXBsYWNlKC9cXCAuKy8sIGBgKVxuICAgIGxldCBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxuICAgIGFyZ3MgPSBhcmdzLm1hcCgoYXJnKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJnID09PSAnc3RyaW5nJyAmJiBhcmcuc2VhcmNoKC86L2cpID4gMCkgcmV0dXJuIGAke2RpbShhcmcpfWBcbiAgICAgICAgZWxzZSByZXR1cm4gYXJnXG4gICAgfSlcbiAgICBhcmdzLnVuc2hpZnQoYFske2RpbShkYXRlKX1dIFske2N5YW4oYElORk9gKX1dYClcbiAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmdzKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gd2FybigpIHtcbiAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCkudG9UaW1lU3RyaW5nKGBISDptbTpzc2ApLnJlcGxhY2UoL1xcIC4rLywgYGApXG4gICAgbGV0IGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpXG4gICAgYXJncyA9IGFyZ3MubWFwKChhcmcpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnICYmIGFyZy5zZWFyY2goLzovZykgPiAwKSByZXR1cm4gYCR7ZGltKGFyZyl9YFxuICAgICAgICBlbHNlIHJldHVybiBhcmdcbiAgICB9KVxuICAgIGFyZ3MudW5zaGlmdChgWyR7ZGltKGRhdGUpfV0gWyR7eWVsbG93KGBXQVJOYCl9XWApXG4gICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJncylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yKCkge1xuICAgIGxldCBkYXRlID0gbmV3IERhdGUoKS50b1RpbWVTdHJpbmcoYEhIOm1tOnNzYCkucmVwbGFjZSgvXFwgLisvLCBgYClcbiAgICBsZXQgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cylcbiAgICBhcmdzID0gYXJncy5tYXAoKGFyZykgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgJiYgYXJnLnNlYXJjaCgvOi9nKSA+IDApIHJldHVybiBgJHtkaW0oYXJnKX1gXG4gICAgICAgIGVsc2UgcmV0dXJuIGFyZ1xuICAgIH0pXG4gICAgYXJncy51bnNoaWZ0KGBbJHtkaW0oZGF0ZSl9XSBbJHtyZWQoYEVSUk9SYCl9XWApXG4gICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJncylcbn0iXX0=